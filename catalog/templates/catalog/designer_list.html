{% extends "base.html" %}

{% block content %}
	<h1 class="mt-3">List of The Genius Designers</h1>
	{% if designer_list %}
		<table class="sortable table table-secondary table-sm table-striped table-bordered table-hover">
			<thead class="table-dark">
				<tr>
					<th width="18%">Name</th>
					<th width="7%"># Games</th>
					<th width="75%">Hosted ORGs</th>
				</tr>
			</thead>
		{% for designer in sorted_designer_list %}
			{% if designer.match_set.all.count %}
				<tr>
					<td>
						<a href="{{ designer.get_absolute_url }}">{{ designer.name }}</a>
					</td>
					<td>
						{{ designer.match_set.all.count }}
					</td>
					<td>
						{% comment %} {% for match in designer.match_set.all|join:', ' %}
							{{ match.ORGs.all|join:', ' }}
						TODO: make it so it lists all ORGs that feature their designs
						{{ designer.match_set.all|join:', ' }} {% endcomment %}
						{{ designer.org_set.all|join:', ' }}
					</td>
				</tr>
			{% endif %}
			{% endfor %}
		</table>
		{% else %}
			<p>Error! No designers found.</p>
	{% endif %}
{% endblock %}